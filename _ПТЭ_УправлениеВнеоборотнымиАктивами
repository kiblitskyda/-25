// {PTE-ФСБУ25 КДА Киблицкий Денис Александрович 2025/03/06
Процедура РасчетАмортизацииОбъектовППАБухРегл(ТаблицаАмортизации, ДатаРасчета, Организация, ОсновноеСредство = Неопределено, ВыдаватьСообщения = Истина) Экспорт 

	УсловиеПоОС = ?(ОсновноеСредство = Неопределено, "", " И Субконто1 В (&ОсновноеСредство) ");
	Запрос 		= Новый Запрос;   
	
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	ХозрасчетныйОстатки.Субконто1 КАК ОсновноеСредство,
		|	ХозрасчетныйОстатки.СуммаОстаток КАК ПервоначальнаяСтоимость0103НаОтчетнуюДату
		|ПОМЕСТИТЬ ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату
		|ИЗ
		|	РегистрБухгалтерии.Хозрасчетный.Остатки(
		|	ДОБАВИТЬКДАТЕ(КОНЕЦПЕРИОДА(&ДатаРасчета, МЕСЯЦ), СЕКУНДА, 1), 
		|	Счет = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.АрендованноеИмущество), , 
		|	Организация = &Организация " + УсловиеПоОС + "
		|	) КАК ХозрасчетныйОстатки
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ХозрасчетныйОстатки.Субконто1 КАК ОсновноеСредство,
		|	ХозрасчетныйОстатки.СуммаОстаток КАК ПервоначальнаяСтоимость0103НаНачалоГода
		|ПОМЕСТИТЬ ВТ_ПервоначальнаяСтоимость0103НаНачалоГода
		|ИЗ
		|	РегистрБухгалтерии.Хозрасчетный.Остатки(
		|			НАЧАЛОПЕРИОДА(&ДатаРасчета, ГОД),
		|			Счет = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.АрендованноеИмущество),
		|			,
		|			Организация = &Организация
		|				И Субконто1 В
		|					(ВЫБРАТЬ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ОсновноеСредство
		|					ИЗ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату)) КАК ХозрасчетныйОстатки
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	СпособыОтраженияРасходовПоАмортизацииСрезПоследних.ОсновноеСредство КАК ОсновноеСредство,
		|	СпособыОтраженияРасходовПоАмортизацииСрезПоследних.СпособыОтраженияРасходовПоАмортизации КАК СпособыОтраженияРасходовПоАмортизации
		|ПОМЕСТИТЬ ВТ_СпособыОтраженияРасходовПоАмортизации
		|ИЗ
		|	РегистрСведений.СпособыОтраженияРасходовПоАмортизацииОСБухгалтерскийУчет.СрезПоследних(
		|			КОНЕЦПЕРИОДА(&ДатаРасчета, МЕСЯЦ),
		|			Организация = &Организация
		|				И ОсновноеСредство В
		|					(ВЫБРАТЬ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ОсновноеСредство
		|					ИЗ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату)) КАК СпособыОтраженияРасходовПоАмортизацииСрезПоследних
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних.ОсновноеСредство КАК ОсновноеСредство,
		|	ЕСТЬNULL(ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних.СрокПолезногоИспользования, 0) КАК СрокПолезногоИспользования,
		|	ЕСТЬNULL(ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних.СрокИспользованияДляВычисленияАмортизации, 0) КАК СрокИспользованияДляВычисленияАмортизации
		|ПОМЕСТИТЬ ВТ_ПараметрыАмортизацииБухгалтерскийУчет
		|ИЗ
		|	РегистрСведений.ПараметрыАмортизацииОСБухгалтерскийУчет.СрезПоследних(
		|			КОНЕЦПЕРИОДА(&ДатаРасчета, МЕСЯЦ),
		|			Организация = &Организация
		|				И ОсновноеСредство В
		|					(ВЫБРАТЬ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ОсновноеСредство
		|					ИЗ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату)) КАК ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	СостоянияОСОрганизаций.ОсновноеСредство,
		|	МАКСИМУМ(СостоянияОСОрганизаций.ДатаСостояния) КАК ДатаВводаВЭксплуатацию
		|ПОМЕСТИТЬ ВТ_ДатыВвода
		|ИЗ
		|	РегистрСведений.СостоянияОСОрганизаций КАК СостоянияОСОрганизаций
		|ГДЕ
		|	СостоянияОСОрганизаций.Организация = &Организация
		|	И СостоянияОСОрганизаций.ОсновноеСредство В
		|			(ВЫБРАТЬ
		|				ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ОсновноеСредство
		|			ИЗ
		|				ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату)
		|	И СостоянияОСОрганизаций.Состояние = ЗНАЧЕНИЕ(Перечисление.СостоянияОС.ПринятоКУчету)
		|
		|СГРУППИРОВАТЬ ПО
		|	СостоянияОСОрганизаций.ОсновноеСредство
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ХозрасчетныйОстатки.Субконто1 КАК ОсновноеСредство,
		|	-ХозрасчетныйОстатки.СуммаОстаток КАК НакопленнаяАмортизация0203НаОтчетнуюДату
		|ПОМЕСТИТЬ ВТ_НакопленнаяАмортизацияНаОтчетнуюДату
		|ИЗ
		|	РегистрБухгалтерии.Хозрасчетный.Остатки(
		|			ДОБАВИТЬКДАТЕ(КОНЕЦПЕРИОДА(&ДатаРасчета, МЕСЯЦ), СЕКУНДА, 1),
		|			Счет = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.АмортизацияАрендованногоИмущества),
		|			,
		|			Организация = &Организация
		|				И Субконто1 В
		|					(ВЫБРАТЬ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ОсновноеСредство
		|					ИЗ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату)) КАК ХозрасчетныйОстатки
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ХозрасчетныйОстатки.Субконто1 КАК ОсновноеСредство,
		|	-ХозрасчетныйОстатки.СуммаОстаток КАК НакопленнаяАмортизация0203НаНачалоГода
		|ПОМЕСТИТЬ ВТ_НакопленнаяАмортизацияНаНачалоГода
		|ИЗ
		|	РегистрБухгалтерии.Хозрасчетный.Остатки(
		|			НАЧАЛОПЕРИОДА(&ДатаРасчета, ГОД),
		|			Счет = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.АмортизацияАрендованногоИмущества),
		|			,
		|			Организация = &Организация
		|				И Субконто1 В
		|					(ВЫБРАТЬ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ОсновноеСредство
		|					ИЗ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату)) КАК ХозрасчетныйОстатки
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ХозрасчетныйОбороты.Субконто1 КАК ОсновноеСредство,
		|	-ХозрасчетныйОбороты.СуммаОборот КАК КорректировкиАмортизации0203СНачалаГода
		|ПОМЕСТИТЬ ВТ_КорректировкиАмортизации0203СНачалаГода
		|ИЗ
		|	РегистрБухгалтерии.Хозрасчетный.Обороты(
		|			НАЧАЛОПЕРИОДА(&ДатаРасчета, ГОД),
		|			ДОБАВИТЬКДАТЕ(КОНЕЦПЕРИОДА(&ДатаРасчета, МЕСЯЦ), СЕКУНДА, 1),
		|			Период,
		|			Счет = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.АмортизацияАрендованногоИмущества),
		|			,
		|			Организация = &Организация
		|				И Субконто1 В
		|					(ВЫБРАТЬ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ОсновноеСредство
		|					ИЗ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату),
		|			КорСчет В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ПрочиеДоходыИРасходы)),
		|			) КАК ХозрасчетныйОбороты
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ХозрасчетныйОстатки.Субконто1 КАК ОсновноеСредство,
		|	-ХозрасчетныйОстатки.СуммаОстаток КАК Обесценение0254НаНачалоГода
		|ПОМЕСТИТЬ ВТ_ОбесценениеНаНачалоГода
		|ИЗ
		|	РегистрБухгалтерии.Хозрасчетный.Остатки(
		|			НАЧАЛОПЕРИОДА(&ДатаРасчета, ГОД),
		|			Счет = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ОбесценениеОсновныхСредств),
		|			,
		|			Организация = &Организация
		|				И Субконто1 В
		|					(ВЫБРАТЬ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ОсновноеСредство
		|					ИЗ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату)) КАК ХозрасчетныйОстатки
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ХозрасчетныйОстатки.Субконто1 КАК ОсновноеСредство,
		|	-ХозрасчетныйОстатки.СуммаОстаток КАК Обесценение0254НаОтчетнуюДату
		|ПОМЕСТИТЬ ВТ_ОбесценениеНаОтчетнуюДату
		|ИЗ
		|	РегистрБухгалтерии.Хозрасчетный.Остатки(
		//|			ДОБАВИТЬКДАТЕ(КОНЕЦПЕРИОДА(&ДатаРасчета, МЕСЯЦ), СЕКУНДА, 1),
		|			ДОБАВИТЬКДАТЕ(&ДатаРасчета, СЕКУНДА, -1),
		|			Счет = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ОбесценениеОсновныхСредств),
		|			,
		|			Организация = &Организация
		|				И Субконто1 В
		|					(ВЫБРАТЬ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ОсновноеСредство
		|					ИЗ
		|						ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату)) КАК ХозрасчетныйОстатки
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	_УчетДолгосрочнойАрендыостатки.ОбъектППА КАК ОсновноеСредство,
		|	СУММА(-_УчетДолгосрочнойАрендыостатки.СтоимостьППА) КАК НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату
		|ПОМЕСТИТЬ ВТ_НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату
		|ИЗ
		|	РегистрСведений._УчетДолгосрочнойАренды КАК _УчетДолгосрочнойАрендыостатки
		|ГДЕ
		|	_УчетДолгосрочнойАрендыостатки.Период <= КОНЕЦПЕРИОДА(&ДатаРасчета, ДЕНЬ)
		|	И _УчетДолгосрочнойАрендыостатки.ПериодГрафика < КОНЕЦПЕРИОДА(&ДатаРасчета, ДЕНЬ)
		|	И _УчетДолгосрочнойАрендыостатки.Показатель = ЗНАЧЕНИЕ(Перечисление._ПоказателиГрафиковДолгосрочнойАренды.АмортизацияППА)
		|	И _УчетДолгосрочнойАрендыостатки.ОбъектППА В
		|			(ВЫБРАТЬ
		|				ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ОсновноеСредство
		|			ИЗ
		|				ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату)
		|
		|СГРУППИРОВАТЬ ПО
		|	_УчетДолгосрочнойАрендыостатки.ОбъектППА
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	_УчетДолгосрочнойАрендыостатки.ОбъектППА КАК ОсновноеСредство,
		|	СУММА(-_УчетДолгосрочнойАрендыостатки.СтоимостьППА) КАК НакопленнаяАмортизацияПоГрафикуНаНачалоГода
		|ПОМЕСТИТЬ ВТ_НакопленнаяАмортизацияПоГрафикуНаНачалоГода
		|ИЗ
		|	РегистрСведений._УчетДолгосрочнойАренды КАК _УчетДолгосрочнойАрендыостатки
		|ГДЕ
		|	_УчетДолгосрочнойАрендыостатки.Период <= КОНЕЦПЕРИОДА(&ДатаРасчета, ДЕНЬ)
		|	И _УчетДолгосрочнойАрендыостатки.ПериодГрафика < КОНЕЦПЕРИОДА(ДОБАВИТЬКДАТЕ(&ДатаРасчета, ГОД, -1), ГОД)
		|	И _УчетДолгосрочнойАрендыостатки.Показатель = ЗНАЧЕНИЕ(Перечисление._ПоказателиГрафиковДолгосрочнойАренды.АмортизацияППА)
		|	И _УчетДолгосрочнойАрендыостатки.ОбъектППА В
		|			(ВЫБРАТЬ
		|				ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ОсновноеСредство
		|			ИЗ
		|				ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату)
		|
		|СГРУППИРОВАТЬ ПО
		|	_УчетДолгосрочнойАрендыостатки.ОбъектППА
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	_УчетДолгосрочнойАрендыостатки.ОбъектППА КАК ОсновноеСредство,
		|	СУММА(_УчетДолгосрочнойАрендыостатки.СтоимостьППА) КАК ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату
		|ПОМЕСТИТЬ ВТ_ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату
		|ИЗ
		|	РегистрСведений._УчетДолгосрочнойАренды КАК _УчетДолгосрочнойАрендыостатки
		|ГДЕ
		|	_УчетДолгосрочнойАрендыостатки.Период <= КОНЕЦПЕРИОДА(&ДатаРасчета, ДЕНЬ)
		|	И _УчетДолгосрочнойАрендыостатки.Показатель = ЗНАЧЕНИЕ(Перечисление._ПоказателиГрафиковДолгосрочнойАренды.СтоимостьППА)
		|	И _УчетДолгосрочнойАрендыостатки.ОбъектППА В
		|			(ВЫБРАТЬ
		|				ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ОсновноеСредство
		|			ИЗ
		|				ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату)
		|
		|СГРУППИРОВАТЬ ПО
		|	_УчетДолгосрочнойАрендыостатки.ОбъектППА
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	_УчетДолгосрочнойАрендыостатки.ОбъектППА КАК ОсновноеСредство,
		|	СУММА(_УчетДолгосрочнойАрендыостатки.СтоимостьППА) КАК ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода
		|ПОМЕСТИТЬ ВТ_ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода
		|ИЗ
		|	РегистрСведений._УчетДолгосрочнойАренды КАК _УчетДолгосрочнойАрендыостатки
		|ГДЕ
		|	_УчетДолгосрочнойАрендыостатки.Период <= КОНЕЦПЕРИОДА(ДОБАВИТЬКДАТЕ(&ДатаРасчета, ГОД, -1), ГОД)
		|	И _УчетДолгосрочнойАрендыостатки.Показатель = ЗНАЧЕНИЕ(Перечисление._ПоказателиГрафиковДолгосрочнойАренды.СтоимостьППА)
		|	И _УчетДолгосрочнойАрендыостатки.ОбъектППА В
		|			(ВЫБРАТЬ
		|				ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ОсновноеСредство
		|			ИЗ
		|				ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату)
		|
		|СГРУППИРОВАТЬ ПО
		|	_УчетДолгосрочнойАрендыостатки.ОбъектППА
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ОсновноеСредство,
		|	ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату.ПервоначальнаяСтоимость0103НаОтчетнуюДату,
		|	0 КАК НакопленнаяАмортизация0203НаОтчетнуюДату,
		|	0 КАК НакопленнаяАмортизация0203НаНачалоГода,
		|	0 КАК НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату,
		|	0 КАК НакопленнаяАмортизацияПоГрафикуНаНачалоГода,
		|	0 КАК ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату,
		|	0 КАК Обесценение0254НаНачалоГода,
		|	0 КАК Обесценение0254НаОтчетнуюДату,
		|	0 КАК ПервоначальнаяСтоимость0103НаНачалоГода,
		|	0 КАК ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода,
		|	0 КАК КорректировкиАмортизации0203СНачалаГода
		|ПОМЕСТИТЬ ВТ_Общая
		|ИЗ
		|	ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату КАК ВТ_ПервоначальнаяСтоимость0103НаОтчетнуюДату
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ВТ_НакопленнаяАмортизацияНаОтчетнуюДату.ОсновноеСредство,
		|	0,
		|	ВТ_НакопленнаяАмортизацияНаОтчетнуюДату.НакопленнаяАмортизация0203НаОтчетнуюДату,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0
		|ИЗ
		|	ВТ_НакопленнаяАмортизацияНаОтчетнуюДату КАК ВТ_НакопленнаяАмортизацияНаОтчетнуюДату
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ВТ_НакопленнаяАмортизацияНаНачалоГода.ОсновноеСредство,
		|	0,
		|	0,
		|	ВТ_НакопленнаяАмортизацияНаНачалоГода.НакопленнаяАмортизация0203НаНачалоГода,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0
		|ИЗ
		|	ВТ_НакопленнаяАмортизацияНаНачалоГода КАК ВТ_НакопленнаяАмортизацияНаНачалоГода
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ВТ_НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату.ОсновноеСредство,
		|	0,
		|	0,
		|	0,
		|	ВТ_НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату.НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0
		|ИЗ
		|	ВТ_НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату КАК ВТ_НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ВТ_НакопленнаяАмортизацияПоГрафикуНаНачалоГода.ОсновноеСредство,
		|	0,
		|	0,
		|	0,
		|	0,
		|	ВТ_НакопленнаяАмортизацияПоГрафикуНаНачалоГода.НакопленнаяАмортизацияПоГрафикуНаНачалоГода,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0
		|ИЗ
		|	ВТ_НакопленнаяАмортизацияПоГрафикуНаНачалоГода КАК ВТ_НакопленнаяАмортизацияПоГрафикуНаНачалоГода
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ВТ_ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату.ОсновноеСредство,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	ВТ_ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату.ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0
		|ИЗ
		|	ВТ_ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату КАК ВТ_ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ВТ_ОбесценениеНаНачалоГода.ОсновноеСредство,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	ВТ_ОбесценениеНаНачалоГода.Обесценение0254НаНачалоГода,
		|	0,
		|	0,
		|	0,
		|	0
		|ИЗ
		|	ВТ_ОбесценениеНаНачалоГода КАК ВТ_ОбесценениеНаНачалоГода
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ВТ_ОбесценениеНаОтчетнуюДату.ОсновноеСредство,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	ВТ_ОбесценениеНаОтчетнуюДату.Обесценение0254НаОтчетнуюДату,
		|	0,
		|	0,
		|	0
		|ИЗ
		|	ВТ_ОбесценениеНаОтчетнуюДату КАК ВТ_ОбесценениеНаОтчетнуюДату
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ВТ_ПервоначальнаяСтоимость0103НаНачалоГода.ОсновноеСредство,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	ВТ_ПервоначальнаяСтоимость0103НаНачалоГода.ПервоначальнаяСтоимость0103НаНачалоГода,
		|	0,
		|	0
		|ИЗ
		|	ВТ_ПервоначальнаяСтоимость0103НаНачалоГода КАК ВТ_ПервоначальнаяСтоимость0103НаНачалоГода
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ВТ_ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода.ОсновноеСредство,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	ВТ_ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода.ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода,
		|	0
		|ИЗ
		|	ВТ_ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода КАК ВТ_ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода
		|
		|ОБЪЕДИНИТЬ ВСЕ
		|
		|ВЫБРАТЬ
		|	ВТ_КорректировкиАмортизации0203СНачалаГода.ОсновноеСредство,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	0,
		|	ВТ_КорректировкиАмортизации0203СНачалаГода.КорректировкиАмортизации0203СНачалаГода
		|ИЗ
		|	ВТ_КорректировкиАмортизации0203СНачалаГода КАК ВТ_КорректировкиАмортизации0203СНачалаГода
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ВТ_Общая.ОсновноеСредство,
		|	СУММА(ВТ_Общая.ПервоначальнаяСтоимость0103НаОтчетнуюДату) КАК ПервоначальнаяСтоимость0103НаОтчетнуюДату,
		|	СУММА(ВТ_Общая.НакопленнаяАмортизация0203НаОтчетнуюДату) КАК НакопленнаяАмортизация0203НаОтчетнуюДату,
		|	СУММА(ВТ_Общая.НакопленнаяАмортизация0203НаНачалоГода) КАК НакопленнаяАмортизация0203НаНачалоГода,
		|	СУММА(ВТ_Общая.ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату) КАК ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату,
		|	СУММА(ВТ_Общая.НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату) КАК НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату,
		|	СУММА(ВТ_Общая.НакопленнаяАмортизацияПоГрафикуНаНачалоГода) КАК НакопленнаяАмортизацияПоГрафикуНаНачалоГода,
		|	СУММА(ВТ_Общая.КорректировкиАмортизации0203СНачалаГода) КАК КорректировкиАмортизации0203СНачалаГода,
		|	СУММА(ВТ_Общая.Обесценение0254НаНачалоГода) КАК Обесценение0254НаНачалоГода,
		|	СУММА(ВТ_Общая.Обесценение0254НаОтчетнуюДату) КАК Обесценение0254НаОтчетнуюДату,
		|	СУММА(ВТ_Общая.ПервоначальнаяСтоимость0103НаНачалоГода) КАК ПервоначальнаяСтоимость0103НаНачалоГода,
		|	СУММА(ВТ_Общая.ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода) КАК ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода
		|ПОМЕСТИТЬ ВТ_Остатки
		|ИЗ
		|	ВТ_Общая КАК ВТ_Общая
		|
		|СГРУППИРОВАТЬ ПО
		|	ВТ_Общая.ОсновноеСредство
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ВТ_Остатки.ОсновноеСредство,
		|	ВТ_СпособыОтраженияРасходовПоАмортизации.СпособыОтраженияРасходовПоАмортизации КАК НаправлениеАмортизации,
		|	ВТ_ПараметрыАмортизацииБухгалтерскийУчет.СрокПолезногоИспользования,
		|	ВТ_ДатыВвода.ДатаВводаВЭксплуатацию,
		|	ВТ_Остатки.ПервоначальнаяСтоимость0103НаОтчетнуюДату,
		|	ВТ_Остатки.ПервоначальнаяСтоимость0103НаНачалоГода,
		|	ВТ_Остатки.НакопленнаяАмортизация0203НаОтчетнуюДату,
		|	ВТ_Остатки.НакопленнаяАмортизация0203НаНачалоГода,
		|	ВТ_Остатки.КорректировкиАмортизации0203СНачалаГода,
		|	ВТ_Остатки.ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату,
		|	ВТ_Остатки.ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода,
		|	ВТ_Остатки.НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату,
		|	ВТ_Остатки.НакопленнаяАмортизацияПоГрафикуНаНачалоГода,
		|	ВТ_Остатки.Обесценение0254НаНачалоГода,
		|	ВТ_Остатки.Обесценение0254НаОтчетнуюДату
		|ПОМЕСТИТЬ ВТ_ОстаткиИПараметры
		|ИЗ
		|	ВТ_Остатки КАК ВТ_Остатки
		|		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_СпособыОтраженияРасходовПоАмортизации КАК ВТ_СпособыОтраженияРасходовПоАмортизации
		|		ПО (ВТ_СпособыОтраженияРасходовПоАмортизации.ОсновноеСредство = ВТ_Остатки.ОсновноеСредство)
		|		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_ПараметрыАмортизацииБухгалтерскийУчет КАК ВТ_ПараметрыАмортизацииБухгалтерскийУчет
		|		ПО (ВТ_ПараметрыАмортизацииБухгалтерскийУчет.ОсновноеСредство = ВТ_Остатки.ОсновноеСредство)
		|		ЛЕВОЕ СОЕДИНЕНИЕ ВТ_ДатыВвода КАК ВТ_ДатыВвода
		|		ПО (ВТ_ДатыВвода.ОсновноеСредство = ВТ_Остатки.ОсновноеСредство)
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ВТ_ОстаткиИПараметры.ОсновноеСредство,
		|	ВТ_ОстаткиИПараметры.ДатаВводаВЭксплуатацию,
		|	ВТ_ОстаткиИПараметры.СрокПолезногоИспользования,
		|	РАЗНОСТЬДАТ(ВТ_ОстаткиИПараметры.ДатаВводаВЭксплуатацию, КОНЕЦПЕРИОДА(ДОБАВИТЬКДАТЕ(&ДатаРасчета, ГОД, -1), ГОД), МЕСЯЦ) КАК ИстекшийСпиНаНачалоГода,
		|	РАЗНОСТЬДАТ(ВТ_ОстаткиИПараметры.ДатаВводаВЭксплуатацию, КОНЕЦПЕРИОДА(&ДатаРасчета, МЕСЯЦ), МЕСЯЦ) КАК ИстекшийСпиНаОтчетнуюДату,
		|	ВТ_ОстаткиИПараметры.ПервоначальнаяСтоимость0103НаОтчетнуюДату,
		|	ВТ_ОстаткиИПараметры.ПервоначальнаяСтоимость0103НаНачалоГода,
		|	ВТ_ОстаткиИПараметры.НакопленнаяАмортизация0203НаОтчетнуюДату,
		|	ВТ_ОстаткиИПараметры.НакопленнаяАмортизация0203НаНачалоГода,
		|	ВТ_ОстаткиИПараметры.КорректировкиАмортизации0203СНачалаГода,
		|	ВТ_ОстаткиИПараметры.НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату,
		|	ВТ_ОстаткиИПараметры.НакопленнаяАмортизацияПоГрафикуНаНачалоГода,
		|	ВТ_ОстаткиИПараметры.ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату,
		|	ВТ_ОстаткиИПараметры.ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату - ВТ_ОстаткиИПараметры.НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату КАК БалансоваяСтоимостьПоГрафикуНаОтчетнуюДату,
		|	ВТ_ОстаткиИПараметры.ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода,
		|	ВТ_ОстаткиИПараметры.ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода - ВТ_ОстаткиИПараметры.НакопленнаяАмортизацияПоГрафикуНаНачалоГода КАК БалансоваяСтоимостьПоГрафикуНаНачалоГода,
		|	ВТ_ОстаткиИПараметры.Обесценение0254НаНачалоГода,
		|	ВТ_ОстаткиИПараметры.Обесценение0254НаОтчетнуюДату,
		|	ВТ_ОстаткиИПараметры.НаправлениеАмортизации
		|ПОМЕСТИТЬ ВТ_Расчет
		|ИЗ
		|	ВТ_ОстаткиИПараметры КАК ВТ_ОстаткиИПараметры
		|;
		|
		//|////////////////////////////////////////////////////////////////////////////////
		//|ВЫБРАТЬ
		//|	ВТ_Расчет.ОсновноеСредство,
		//|	ВТ_Расчет.ДатаВводаВЭксплуатацию,
		//|	ВТ_Расчет.СрокПолезногоИспользования,
		//|	ВТ_Расчет.ИстекшийСпиНаНачалоГода,
		//|	ВТ_Расчет.ИстекшийСпиНаОтчетнуюДату,
		//|	ВТ_Расчет.ПервоначальнаяСтоимость0103НаОтчетнуюДату,
		//|	ВТ_Расчет.ПервоначальнаяСтоимость0103НаНачалоГода,
		//|	ВТ_Расчет.НакопленнаяАмортизация0203НаОтчетнуюДату,
		//|	ВТ_Расчет.НакопленнаяАмортизация0203НаНачалоГода,
		//|	ВТ_Расчет.КорректировкиАмортизации0203СНачалаГода,
		//|	ВТ_Расчет.ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату,
		//|	ВТ_Расчет.ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода,
		//|	ВТ_Расчет.НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату,
		//|	ВТ_Расчет.НакопленнаяАмортизацияПоГрафикуНаНачалоГода,
		//|	ВТ_Расчет.Обесценение0254НаНачалоГода,
		//|	ВТ_Расчет.Обесценение0254НаОтчетнуюДату,
		//|	ВТ_Расчет.НаправлениеАмортизации,
		//|	ВТ_Расчет.НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату - ВТ_Расчет.НакопленнаяАмортизацияПоГрафикуНаНачалоГода - (ВТ_Расчет.НакопленнаяАмортизация0203НаОтчетнуюДату - ВТ_Расчет.НакопленнаяАмортизация0203НаНачалоГода - ВТ_Расчет.КорректировкиАмортизации0203СНачалаГода) КАК АмортизацияПоГрафикуКНачислению,
		//|	ВТ_Расчет.БалансоваяСтоимостьПоГрафикуНаНачалоГода,
		//|	ВТ_Расчет.БалансоваяСтоимостьПоГрафикуНаОтчетнуюДату,
		//|	ВЫБОР
		//|		КОГДА ВТ_Расчет.Обесценение0254НаНачалоГода <> 0
		//|				И ВТ_Расчет.БалансоваяСтоимостьПоГрафикуНаНачалоГода <> 0
		//|			ТОГДА ОКР(ВТ_Расчет.Обесценение0254НаНачалоГода / ВТ_Расчет.БалансоваяСтоимостьПоГрафикуНаНачалоГода * ВТ_Расчет.БалансоваяСтоимостьПоГрафикуНаОтчетнуюДату, 2)
		//|		ИНАЧЕ 0
		//|	КОНЕЦ КАК РасчетноеСальдоПоОбесценению
		//|ПОМЕСТИТЬ ВТ_Расчет1
		//|ИЗ
		//|	ВТ_Расчет КАК ВТ_Расчет
		//|;
		//|
		//|////////////////////////////////////////////////////////////////////////////////
		//|ВЫБРАТЬ
		//|	ВТ_Расчет1.ОсновноеСредство,
		//|	ВТ_Расчет1.ДатаВводаВЭксплуатацию,
		//|	ВТ_Расчет1.СрокПолезногоИспользования,
		//|	ВТ_Расчет1.ИстекшийСпиНаНачалоГода,
		//|	ВТ_Расчет1.ИстекшийСпиНаОтчетнуюДату,
		//|	ВТ_Расчет1.ПервоначальнаяСтоимость0103НаОтчетнуюДату,
		//|	ВТ_Расчет1.ПервоначальнаяСтоимость0103НаНачалоГода,
		//|	ВТ_Расчет1.НакопленнаяАмортизация0203НаОтчетнуюДату,
		//|	ВТ_Расчет1.НакопленнаяАмортизация0203НаНачалоГода,
		//|	ВТ_Расчет1.КорректировкиАмортизации0203СНачалаГода,
		//|	ОКР(ВТ_Расчет1.ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату, 2) КАК ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату,
		//|	ОКР(ВТ_Расчет1.ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода, 2) КАК ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода,
		//|	ОКР(ВТ_Расчет1.НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату, 2) КАК НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату,
		//|	ОКР(ВТ_Расчет1.НакопленнаяАмортизацияПоГрафикуНаНачалоГода, 2) КАК НакопленнаяАмортизацияПоГрафикуНаНачалоГода,
		//|	ВТ_Расчет1.Обесценение0254НаНачалоГода,
		//|	ВТ_Расчет1.Обесценение0254НаОтчетнуюДату,
		//|	ВТ_Расчет1.НаправлениеАмортизации,
		//|	ОКР(ВТ_Расчет1.АмортизацияПоГрафикуКНачислению, 2) КАК АмортизацияПоГрафикуКНачислению,
		//|	ОКР(ВТ_Расчет1.БалансоваяСтоимостьПоГрафикуНаНачалоГода, 2) КАК БалансоваяСтоимостьПоГрафикуНаНачалоГода,
		//|	ОКР(ВТ_Расчет1.БалансоваяСтоимостьПоГрафикуНаОтчетнуюДату, 2) КАК БалансоваяСтоимостьПоГрафикуНаОтчетнуюДату,
		//|	ВТ_Расчет1.РасчетноеСальдоПоОбесценению,
		//|	ВЫБОР
		//|		КОГДА ВТ_Расчет1.РасчетноеСальдоПоОбесценению <= ВТ_Расчет1.Обесценение0254НаНачалоГода 
		//|				и окр(ВТ_Расчет1.ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату,2) <> 0
		//|			ТОГДА ВТ_Расчет1.РасчетноеСальдоПоОбесценению - ВТ_Расчет1.Обесценение0254НаОтчетнуюДату
		//|		КОГДА  ВТ_Расчет1.РасчетноеСальдоПоОбесценению > ВТ_Расчет1.Обесценение0254НаНачалоГода 
		//|				и окр(ВТ_Расчет1.ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату,2) <> 0
		//|			ТОГДА ВТ_Расчет1.Обесценение0254НаНачалоГода - ВТ_Расчет1.Обесценение0254НаОтчетнуюДату
		//|		ИНАЧЕ 0
		//|	КОНЕЦ КАК ОбесценениеКНачислению,
		//|	ВЫБОР
		//|		КОГДА ВТ_Расчет1.РасчетноеСальдоПоОбесценению > ВТ_Расчет1.Обесценение0254НаНачалоГода
		//|			ТОГДА ИСТИНА
		//|		ИНАЧЕ ЛОЖЬ
		//|	КОНЕЦ КАК ОтсечкаПоОбесценению
		//|ИЗ
		//|	ВТ_Расчет1 КАК ВТ_Расчет1 
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ВТ_Расчет.ОсновноеСредство,
		|	ВТ_Расчет.ДатаВводаВЭксплуатацию,
		|	ВТ_Расчет.СрокПолезногоИспользования,
		|	ВТ_Расчет.ИстекшийСпиНаНачалоГода,
		|	ВТ_Расчет.ИстекшийСпиНаОтчетнуюДату,
		|	ВТ_Расчет.СрокПолезногоИспользования - ВТ_Расчет.ИстекшийСпиНаОтчетнуюДату + 1 КАК ОстатокСпиНаМоментНачисления,
		|	ВТ_Расчет.ПервоначальнаяСтоимость0103НаОтчетнуюДату,
		|	ВТ_Расчет.ПервоначальнаяСтоимость0103НаНачалоГода,
		|	ВТ_Расчет.НакопленнаяАмортизация0203НаОтчетнуюДату,
		|	ВТ_Расчет.НакопленнаяАмортизация0203НаНачалоГода,
		|	ВТ_Расчет.КорректировкиАмортизации0203СНачалаГода,
		|	ВТ_Расчет.ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату,
		|	ВТ_Расчет.ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода,
		|	ВТ_Расчет.НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату,
		|	ВТ_Расчет.НакопленнаяАмортизацияПоГрафикуНаНачалоГода,
		|	ВТ_Расчет.Обесценение0254НаНачалоГода,
		|	ВТ_Расчет.Обесценение0254НаОтчетнуюДату,
		|	ВТ_Расчет.НаправлениеАмортизации,
		|	ВТ_Расчет.НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату - ВТ_Расчет.НакопленнаяАмортизацияПоГрафикуНаНачалоГода - (ВТ_Расчет.НакопленнаяАмортизация0203НаОтчетнуюДату - ВТ_Расчет.НакопленнаяАмортизация0203НаНачалоГода - ВТ_Расчет.КорректировкиАмортизации0203СНачалаГода) КАК АмортизацияПоГрафикуКНачислению,
		|	ВТ_Расчет.БалансоваяСтоимостьПоГрафикуНаНачалоГода,
		|	ВТ_Расчет.БалансоваяСтоимостьПоГрафикуНаОтчетнуюДату,
		|	ВЫБОР
		|		КОГДА ВТ_Расчет.Обесценение0254НаОтчетнуюДату > 0
		|				И ВТ_Расчет.СрокПолезногоИспользования - ВТ_Расчет.ИстекшийСпиНаОтчетнуюДату + 1 > 0
		|			ТОГДА -ОКР(ВТ_Расчет.Обесценение0254НаОтчетнуюДату / (ВТ_Расчет.СрокПолезногоИспользования - ВТ_Расчет.ИстекшийСпиНаОтчетнуюДату + 1), 2)
		|		ИНАЧЕ 0
		|	КОНЕЦ КАК ОбесценениеКНачислению
		|ПОМЕСТИТЬ ВТ_Расчет1
		|ИЗ
		|	ВТ_Расчет КАК ВТ_Расчет
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ВТ_Расчет1.ОсновноеСредство,
		|	ВТ_Расчет1.ДатаВводаВЭксплуатацию,
		|	ВТ_Расчет1.СрокПолезногоИспользования,
		|	ВТ_Расчет1.ИстекшийСпиНаНачалоГода,
		|	ВТ_Расчет1.ИстекшийСпиНаОтчетнуюДату,
		|	ВТ_Расчет1.ОстатокСпиНаМоментНачисления,
		|	ВТ_Расчет1.ПервоначальнаяСтоимость0103НаОтчетнуюДату,
		|	ВТ_Расчет1.ПервоначальнаяСтоимость0103НаНачалоГода,
		|	ВТ_Расчет1.НакопленнаяАмортизация0203НаОтчетнуюДату,
		|	ВТ_Расчет1.НакопленнаяАмортизация0203НаНачалоГода,
		|	ВТ_Расчет1.КорректировкиАмортизации0203СНачалаГода,
		|	ОКР(ВТ_Расчет1.ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату, 2) КАК ПервоначальнаяСтоимостьППАПоГрафикуНаОтчетнуюДату,
		|	ОКР(ВТ_Расчет1.ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода, 2) КАК ПервоначальнаяСтоимостьППАПоГрафикуНаНачалоГода,
		|	ОКР(ВТ_Расчет1.НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату, 2) КАК НакопленнаяАмортизацияПоГрафикуНаОтчетнуюДату,
		|	ОКР(ВТ_Расчет1.НакопленнаяАмортизацияПоГрафикуНаНачалоГода, 2) КАК НакопленнаяАмортизацияПоГрафикуНаНачалоГода,
		|	ВТ_Расчет1.Обесценение0254НаНачалоГода,
		|	ВТ_Расчет1.Обесценение0254НаОтчетнуюДату,
		|	ВТ_Расчет1.НаправлениеАмортизации,
		|	ОКР(ВТ_Расчет1.АмортизацияПоГрафикуКНачислению, 2) КАК АмортизацияПоГрафикуКНачислению,
		|	ОКР(ВТ_Расчет1.БалансоваяСтоимостьПоГрафикуНаНачалоГода, 2) КАК БалансоваяСтоимостьПоГрафикуНаНачалоГода,
		|	ОКР(ВТ_Расчет1.БалансоваяСтоимостьПоГрафикуНаОтчетнуюДату, 2) КАК БалансоваяСтоимостьПоГрафикуНаОтчетнуюДату,
		|	ВТ_Расчет1.ОбесценениеКНачислению
		|ИЗ
		|	ВТ_Расчет1 КАК ВТ_Расчет1		
		|";

	Запрос.Параметры.Вставить("ДатаРасчета", 		ДатаРасчета); 
	Запрос.Параметры.Вставить("Организация", 		Организация); 
	Запрос.Параметры.Вставить("ОсновноеСредство", 	ОсновноеСредство); 

	РезультатЗапроса 	= Запрос.Выполнить();
	ВыборкаПоОС 		= РезультатЗапроса.Выбрать();
	
	СчетУчетаБУ 		= ПланыСчетов.Хозрасчетный.НайтиПоКоду("01.03");
	СчетАмортизацииБУ 	= ПланыСчетов.Хозрасчетный.НайтиПоКоду("02.03");
	СчетОбесценения 	= ПланыСчетов.Хозрасчетный.НайтиПоКоду("02.54");
	
	Пока ВыборкаПоОС.Следующий() Цикл
		СтрокаАмортизации = ТаблицаАмортизации.Добавить();
		СтрокаАмортизации.ОС                     = ВыборкаПоОС.ОсновноеСредство;
		СтрокаАмортизации.СчетУчетаБУ            = СчетУчетаБУ;
		СтрокаАмортизации.СчетАмортизацииБУ      = СчетАмортизацииБУ;
		СтрокаАмортизации.ИмяСубконто            = "ОсновныеСредства";
		СтрокаАмортизации.НаправлениеАмортизации = ВыборкаПоОС.НаправлениеАмортизации;
		СтрокаАмортизации.Бух                    = ВыборкаПоОС.АмортизацияПоГрафикуКНачислению;
		СтрокаАмортизации.КорректировкаОбесценения = 0;
		Если ВыборкаПоОС.ОбесценениеКНачислению <> 0 Тогда
			СтрокаАмортизации = ТаблицаАмортизации.Добавить();
			СтрокаАмортизации.ОС                     = ВыборкаПоОС.ОсновноеСредство;
			СтрокаАмортизации.СчетУчетаБУ            = СчетУчетаБУ;
			СтрокаАмортизации.СчетАмортизацииБУ      = СчетОбесценения;
			СтрокаАмортизации.ЭтоОбесценение		 = Истина;
			СтрокаАмортизации.СчетОбесценения		 = СчетОбесценения;
			СтрокаАмортизации.ИмяСубконто            = "ОсновныеСредства";
			СтрокаАмортизации.НаправлениеАмортизации = ВыборкаПоОС.НаправлениеАмортизации;
			СтрокаАмортизации.Бух                    = ВыборкаПоОС.ОбесценениеКНачислению;
		КонецЕсли;
	КонецЦикла;
	
КонецПроцедуры
// }PTE-ФСБУ25 КДА

// {PTE-0000096723 Киблицкий Денис Александрович 2025/05/21
Процедура РасчетОбесцененияНМАБалансовымМетодом(ТаблицаАмортизации, ДатаРасчета, Организация, НематериальныйАктив = Неопределено) Экспорт 
	
	УсловиеПоНМА = ?( НематериальныйАктив = Неопределено, "", " И НематериальныйАктив В (&СписокНМА) ");
	Запрос = Новый Запрос;
	Запрос.Текст =	
	"ВЫБРАТЬ РАЗЛИЧНЫЕ
	|	РегистрБухгалтерииХозрасчетныйОстаткиИОбороты.Субконто1 КАК НематериальныйАктив
	|ПОМЕСТИТЬ ВТ_СписокНМА
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.ОстаткиИОбороты(
	|	
	|	НачалоПериода(&ДатаРасчета, Год)
	|	
	|	, ДОБАВИТЬКДАТЕ(КонецПериода(&ДатаРасчета, МЕСЯЦ), секунда, 1) , , ДвиженияИГраницыПериода, НЕ Счет В ИЕРАРХИИ (ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ВложенияВоВнеоборотныеАктивы)), ЗНАЧЕНИЕ(ПланВидовХарактеристик.ВидыСубконтоХозрасчетные.НематериальныеАктивы), " + УсловиеПоНМА + ") КАК РегистрБухгалтерииХозрасчетныйОстаткиИОбороты
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	СостоянияНМАОрганизаций.НематериальныйАктив КАК НематериальныйАктив
	|ПОМЕСТИТЬ СнятыеСУчета
	|ИЗ
	|	РегистрСведений.СостоянияНМАОрганизаций КАК СостоянияНМАОрганизаций
	|ГДЕ
	|	СостоянияНМАОрганизаций.Состояние = ЗНАЧЕНИЕ(Перечисление.ВидыСостоянийНМА.Списан)
	|	И СостоянияНМАОрганизаций.Период < &ДатаРасчета
	|	И СостоянияНМАОрганизаций.Организация = &Организация
	|	И СостоянияНМАОрганизаций.НематериальныйАктив В
	|			(ВЫБРАТЬ
	|				ВТ_СписокНМА.НематериальныйАктив
	|			ИЗ
	|				ВТ_СписокНМА)
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив КАК НематериальныйАктив,
	|	ПРЕДСТАВЛЕНИЕ(ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив) КАК НематериальныйАктивПредставление,
	|	ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив.Код КАК Код
	|ПОМЕСТИТЬ СписокНМА
	|ИЗ
	|	РегистрСведений.ПервоначальныеСведенияНМАБухгалтерскийУчет.СрезПоследних(
	|			НАЧАЛОПЕРИОДА(&ДатаРасчета, МЕСЯЦ),
	|			Организация = &Организация
	|				И НематериальныйАктив В
	|					(ВЫБРАТЬ
	|						ВТ_СписокНМА.НематериальныйАктив
	|					ИЗ
	|						ВТ_СписокНМА)
	|				И НЕ НематериальныйАктив В
	|						(ВЫБРАТЬ
	|							СнятыеСУчета.НематериальныйАктив
	|						ИЗ
	|							СнятыеСУчета)) КАК ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних
	|ГДЕ
	|	ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НачислятьАмортизацию = ИСТИНА
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВыработкаНМАОбороты.НематериальныйАктив КАК НематериальныйАктив,
	|	ЕСТЬNULL(ВыработкаНМАОбороты.КоличествоОборот, 0) КАК ОбъемВыработки
	|ПОМЕСТИТЬ ВыработкаНМА
	|ИЗ
	|	РегистрНакопления.ВыработкаНМА.Обороты(
	|			НАЧАЛОПЕРИОДА(&ДатаРасчета, МЕСЯЦ),
	|			&ДатаРасчета,
	|			,
	|			НематериальныйАктив В
	|				(ВЫБРАТЬ
	|					СписокНМА.НематериальныйАктив
	|				ИЗ
	|					СписокНМА)) КАК ВыработкаНМАОбороты
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВыработкаНМАОбороты.НематериальныйАктив КАК НематериальныйАктив,
	|	ЕСТЬNULL(ВыработкаНМАОбороты.КоличествоОборот, 0) КАК ОбъемВыработки
	|ПОМЕСТИТЬ ВыработкаНМАНакопленный
	|ИЗ
	|	РегистрНакопления.ВыработкаНМА.Обороты(
	|			,
	|			НАЧАЛОПЕРИОДА(&ДатаРасчета, МЕСЯЦ),
	|			Период,
	|			НематериальныйАктив В
	|				(ВЫБРАТЬ
	|					СписокНМА.НематериальныйАктив
	|				ИЗ
	|					СписокНМА)) КАК ВыработкаНМАОбороты
	|
	|ИНДЕКСИРОВАТЬ ПО
	|	НематериальныйАктив
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	СостоянияНМАОрганизаций.НематериальныйАктив,
	|	МИНИМУМ(СостоянияНМАОрганизаций.Период) КАК ДатаПринятияКУчету
	|ПОМЕСТИТЬ СостоянияНМАОрганизаций
	|ИЗ
	|	РегистрСведений.СостоянияНМАОрганизаций КАК СостоянияНМАОрганизаций
	|ГДЕ
	|	СостоянияНМАОрганизаций.Организация = &Организация
	|	И СостоянияНМАОрганизаций.Состояние = ЗНАЧЕНИЕ(Перечисление.ВидыСостоянийНМА.ПринятКУчету)
	|
	|СГРУППИРОВАТЬ ПО
	|	СостоянияНМАОрганизаций.НематериальныйАктив
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ОбесценениеОстатки.Счет КАК СчетОбесценения,
	|	ОбесценениеОстатки.Субконто1 КАК НематериальныйАктив,
	|	ОбесценениеОстатки.СуммаОстатокКт КАК ОстатокОбесценения
	|ПОМЕСТИТЬ ВТОбесценениеНаНачалоГода
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.Остатки(
	|			НАЧАЛОПЕРИОДА(&ДатаРасчета, ГОД),
	|			Счет = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ОбесценениеНМАНаСчете04_01),
	|			,
	|			Субконто1 В
	|				(ВЫБРАТЬ
	|					ВТ_СписокНМА.НематериальныйАктив
	|				ИЗ
	|					ВТ_СписокНМА)) КАК ОбесценениеОстатки
	|ГДЕ
	|	ОбесценениеОстатки.Организация = &Организация
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ОбесценениеОстатки.Счет КАК СчетОбесценения,
	|	ОбесценениеОстатки.Субконто1 КАК НематериальныйАктив,
	|	ОбесценениеОстатки.СуммаОстатокКт КАК ОстатокОбесценения
	|ПОМЕСТИТЬ ВТОбесценение
	|ИЗ
	|	РегистрБухгалтерии.Хозрасчетный.Остатки(
	|			ДОБАВИТЬКДАТЕ(КонецПериода(&ДатаРасчета, МЕСЯЦ), секунда, 1),
	|			Счет = ЗНАЧЕНИЕ(ПланСчетов.Хозрасчетный.ОбесценениеНМАНаСчете04_01),
	|			,
	|			Субконто1 В
	|				(ВЫБРАТЬ
	|					ВТ_СписокНМА.НематериальныйАктив
	|				ИЗ
	|					ВТ_СписокНМА)) КАК ОбесценениеОстатки
	|ГДЕ
	|	ОбесценениеОстатки.Организация = &Организация
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив,
	|	ПРЕДСТАВЛЕНИЕ(ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив) КАК НематериальныйАктивПредставление,
	|	ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив.Код КАК Код,
	|	ЕСТЬNULL(ВыработкаНМА.ОбъемВыработки, 0) КАК ОбъемВыработки,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних.СрокПолезногоИспользования, 0) <> 0
	|			ТОГДА ЕСТЬNULL(ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних.СрокПолезногоИспользования, 0)
	|		ИНАЧЕ ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.СрокПолезногоИспользования
	|	КОНЕЦ КАК СрокИспользованияДляВычисленияАмортизации,
	|	ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.ПервоначальнаяСтоимость КАК СтоимостьДляВычисленияАмортизации,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних.ОбъемПродукцииРабот, 0) <> 0
	|			ТОГДА ЕСТЬNULL(ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних.ОбъемПродукцииРабот, 0)
	|		ИНАЧЕ ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.ОбъемПродукцииРаботДляВычисленияАмортизации
	|	КОНЕЦ КАК ОбъемПродукцииРаботДляВычисленияАмортизации,
	|	ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.Период,
	|	СчетаБухгалтерскогоУчетаНМАСрезПоследних.СчетУчета,
	|	ВЫБОР
	|		КОГДА ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив.ВидОбъектаУчета = ЗНАЧЕНИЕ(Перечисление.ВидыОбъектовУчетаНМА.РасходыНаНИОКР)
	|			ТОГДА СчетаБухгалтерскогоУчетаНМАСрезПоследних.СчетУчета
	|		ИНАЧЕ СчетаБухгалтерскогоУчетаНМАСрезПоследних.СчетНачисленияАмортизации
	|	КОНЕЦ КАК СчетНачисленияАмортизации,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних.СпособНачисленияАмортизации, ЗНАЧЕНИЕ(Перечисление.СпособыНачисленияАмортизацииНМА.ПустаяСсылка)) <> ЗНАЧЕНИЕ(Перечисление.СпособыНачисленияАмортизацииНМА.ПустаяСсылка)
	|			ТОГДА ЕСТЬNULL(ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних.СпособНачисленияАмортизации, ЗНАЧЕНИЕ(Перечисление.СпособыНачисленияАмортизацииНМА.ПустаяСсылка))
	|		ИНАЧЕ ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.СпособНачисленияАмортизации
	|	КОНЕЦ КАК СпособНачисленияАмортизации,
	|	ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.ПервоначальнаяСтоимость,
	|	ВЫБОР
	|		КОГДА ЕСТЬNULL(ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних.КоэффициентУскорения, 0) <> 0
	|			ТОГДА ЕСТЬNULL(ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних.КоэффициентУскорения, 0)
	|		ИНАЧЕ ЕСТЬNULL(ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.Коэффициент, 0)
	|	КОНЕЦ КАК Коэффициент,
	|	ЕСТЬNULL(ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних.ЛиквидационнаяСтоимость, 0) КАК ЛиквидационнаяСтоимость,
	|	СпособыОтраженияРасходовПоАмортизацииНМАБухгалтерскийУчетСрезПоследних.СпособОтраженияРасходов КАК СпособыОтраженияРасходовПоАмортизации,
	|	ЕСТЬNULL(СтоимостьНМА_БУ.СтоимостьНачальныйОстаток, 0) КАК СтоимостьНачальныйОстаток,
	|	ЕСТЬNULL(СтоимостьНМА_БУ.АмортизацияНачальныйОстаток, 0) КАК АмортизацияНачальныйОстаток,
	|	ЕСТЬNULL(СтоимостьНМА_БУ.АмортизацияКонечныйОстаток, 0) КАК АмортизацияКонечныйОстаток,
	|	ЕСТЬNULL(СтоимостьНМА_БУ.АмортизацияПриход, 0) КАК АмортизацияОборот,
	|	ЕСТЬNULL(ВыработкаНМАНакопленный.ОбъемВыработки, 0) КАК КоличествоНакопленный,
	|	ВТОбесценение.СчетОбесценения,
	|	ЕСТЬNULL(ВТОбесценениеНаНачалоГода.ОстатокОбесценения, 0) КАК ОбесценениеНаНачалоГода,
	|	ЕСТЬNULL(ВТОбесценение.ОстатокОбесценения, 0) КАК ОстатокОбесценения,
	|	СтоимостьНМАНаНачалоГода_БУ.СтоимостьОстаток - СтоимостьНМАНаНачалоГода_БУ.АмортизацияОстаток КАК СтоимостьНаНачалоГода,
	|	СостоянияНМАОрганизаций.ДатаПринятияКУчету КАК ДатаПринятияКУчету
	|ПОМЕСТИТЬ ВТ_Данные
	|ИЗ
	|	СписокНМА КАК СписокНМА
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ПервоначальныеСведенияНМАБухгалтерскийУчет.СрезПоследних(
	|				НАЧАЛОПЕРИОДА(&ДатаРасчета, МЕСЯЦ),
	|				НематериальныйАктив В
	|					(ВЫБРАТЬ
	|						ВТ_СписокНМА.НематериальныйАктив
	|					ИЗ
	|						ВТ_СписокНМА)) КАК ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних
	|		ПО СписокНМА.НематериальныйАктив = ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив
	|		ЛЕВОЕ СОЕДИНЕНИЕ ВыработкаНМА КАК ВыработкаНМА
	|		ПО (ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив = ВыработкаНМА.НематериальныйАктив)
	|		ЛЕВОЕ СОЕДИНЕНИЕ ВыработкаНМАНакопленный КАК ВыработкаНМАНакопленный
	|		ПО СписокНМА.НематериальныйАктив = ВыработкаНМАНакопленный.НематериальныйАктив
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СпособыОтраженияРасходовПоАмортизацииНМАБухгалтерскийУчет.СрезПоследних(
	|				НАЧАЛОПЕРИОДА(&ДатаРасчета, МЕСЯЦ),
	|				Организация = &Организация
	|					И НематериальныйАктив В
	|						(ВЫБРАТЬ
	|							ВТ_СписокНМА.НематериальныйАктив
	|						ИЗ
	|							ВТ_СписокНМА)) КАК СпособыОтраженияРасходовПоАмортизацииНМАБухгалтерскийУчетСрезПоследних
	|		ПО (ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив = СпособыОтраженияРасходовПоАмортизацииНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив)
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.СчетаБухгалтерскогоУчетаНМА.СрезПоследних(
	|				НАЧАЛОПЕРИОДА(&ДатаРасчета, МЕСЯЦ),
	|				Организация = &Организация
	|					И НематериальныйАктив В
	|						(ВЫБРАТЬ
	|							ВТ_СписокНМА.НематериальныйАктив
	|						ИЗ
	|							ВТ_СписокНМА)) КАК СчетаБухгалтерскогоУчетаНМАСрезПоследних
	|		ПО (ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив = СчетаБухгалтерскогоУчетаНМАСрезПоследних.НематериальныйАктив)
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.СтоимостьНМАБухгалтерскийУчет.ОстаткиИОбороты(
	|				НАЧАЛОПЕРИОДА(&ДатаРасчета, МЕСЯЦ),
	|				&ДатаРасчета,
	|				Период,
	|				,
	|				Организация = &Организация
	|					И НематериальныйАктив В
	|						(ВЫБРАТЬ
	|							ВТ_СписокНМА.НематериальныйАктив
	|						ИЗ
	|							ВТ_СписокНМА)) КАК СтоимостьНМА_БУ
	|		ПО (ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив = СтоимостьНМА_БУ.НематериальныйАктив)
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрНакопления.СтоимостьНМАБухгалтерскийУчет.Остатки(
	|				НАЧАЛОПЕРИОДА(НАЧАЛОПЕРИОДА(&ДатаРасчета, МЕСЯЦ), ГОД),
	|				Организация = &Организация
	|					И НематериальныйАктив В
	|						(ВЫБРАТЬ
	|							ВТ_СписокНМА.НематериальныйАктив
	|						ИЗ
	|							ВТ_СписокНМА)) КАК СтоимостьНМАНаНачалоГода_БУ
	|		ПО (ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив = СтоимостьНМАНаНачалоГода_БУ.НематериальныйАктив)
	|		ЛЕВОЕ СОЕДИНЕНИЕ РегистрСведений.ПараметрыАмортизацииНМАБухгалтерскийУчет.СрезПоследних(
	|				НАЧАЛОПЕРИОДА(&ДатаРасчета, МЕСЯЦ),
	|				Организация = &Организация
	|					И НематериальныйАктив В
	|						(ВЫБРАТЬ
	|							ВТ_СписокНМА.НематериальныйАктив
	|						ИЗ
	|							ВТ_СписокНМА)) КАК ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних
	|		ПО (ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив = ПараметрыАмортизацииБухгалтерскийУчетСрезПоследних.НематериальныйАктив)
	|		ЛЕВОЕ СОЕДИНЕНИЕ СостоянияНМАОрганизаций КАК СостоянияНМАОрганизаций
	|		ПО (ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НематериальныйАктив = СостоянияНМАОрганизаций.НематериальныйАктив)
	|		ЛЕВОЕ СОЕДИНЕНИЕ ВТОбесценение КАК ВТОбесценение
	|		ПО СписокНМА.НематериальныйАктив = ВТОбесценение.НематериальныйАктив
	|		ЛЕВОЕ СОЕДИНЕНИЕ ВТОбесценениеНаНачалоГода КАК ВТОбесценениеНаНачалоГода
	|		ПО СписокНМА.НематериальныйАктив = ВТОбесценениеНаНачалоГода.НематериальныйАктив
	|ГДЕ
	|	ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.Организация = &Организация
	|	И ПервоначальныеСведенияНМАБухгалтерскийУчетСрезПоследних.НачислятьАмортизацию = ИСТИНА
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВТ_Данные.НематериальныйАктив,
	|	ВТ_Данные.НематериальныйАктивПредставление,
	|	ВТ_Данные.Код,
	|	ВТ_Данные.ОбъемВыработки,
	|	ВТ_Данные.СрокИспользованияДляВычисленияАмортизации,
	|	ВТ_Данные.СтоимостьДляВычисленияАмортизации,
	|	ВТ_Данные.ОбъемПродукцииРаботДляВычисленияАмортизации,
	|	ВТ_Данные.Период,
	|	ВТ_Данные.СчетУчета,
	|	ВТ_Данные.СчетНачисленияАмортизации,
	|	ВТ_Данные.СпособНачисленияАмортизации,
	|	ВТ_Данные.ПервоначальнаяСтоимость,
	|	ВТ_Данные.Коэффициент,
	|	ВТ_Данные.ЛиквидационнаяСтоимость,
	|	ВТ_Данные.СпособыОтраженияРасходовПоАмортизации,
	|	ВТ_Данные.СтоимостьНачальныйОстаток,
	|	ВТ_Данные.АмортизацияНачальныйОстаток,
	|	ВТ_Данные.АмортизацияКонечныйОстаток,
	|	ВТ_Данные.АмортизацияОборот,
	|	ВТ_Данные.КоличествоНакопленный,
	|	ВТ_Данные.СчетОбесценения,
	|	ВТ_Данные.ОбесценениеНаНачалоГода,
	|	ВТ_Данные.ОстатокОбесценения,
	|	ВТ_Данные.СтоимостьНаНачалоГода,
	|	ВТ_Данные.ДатаПринятияКУчету,
	|	ВЫБОР
	|		КОГДА РАЗНОСТЬДАТ(ВТ_Данные.ДатаПринятияКУчету, КОНЕЦПЕРИОДА(ДОБАВИТЬКДАТЕ(&ДатаРасчета, ГОД, -1), ГОД), МЕСЯЦ) < ВТ_Данные.СрокИспользованияДляВычисленияАмортизации
	|			ТОГДА РАЗНОСТЬДАТ(ВТ_Данные.ДатаПринятияКУчету, КОНЕЦПЕРИОДА(ДОБАВИТЬКДАТЕ(&ДатаРасчета, ГОД, -1), ГОД), МЕСЯЦ)
	|		ИНАЧЕ ВТ_Данные.СрокИспользованияДляВычисленияАмортизации
	|	КОНЕЦ КАК ИстекшийСпиНаНачалоГода,
	|	ВЫБОР
	|		КОГДА РАЗНОСТЬДАТ(ВТ_Данные.ДатаПринятияКУчету, КОНЕЦПЕРИОДА(&ДатаРасчета, МЕСЯЦ), МЕСЯЦ) < ВТ_Данные.СрокИспользованияДляВычисленияАмортизации
	|			ТОГДА РАЗНОСТЬДАТ(ВТ_Данные.ДатаПринятияКУчету, КОНЕЦПЕРИОДА(&ДатаРасчета, МЕСЯЦ), МЕСЯЦ)
	|		ИНАЧЕ ВТ_Данные.СрокИспользованияДляВычисленияАмортизации
	|	КОНЕЦ КАК ИстекшийСпиНаОтчетнуюДату
	|ПОМЕСТИТЬ ВТ_Расчет
	|ИЗ
	|	ВТ_Данные КАК ВТ_Данные
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВТ_Расчет.НематериальныйАктив,
	|	ВТ_Расчет.НематериальныйАктивПредставление,
	|	ВТ_Расчет.Код,
	|	ВТ_Расчет.ОбъемВыработки,
	|	ВТ_Расчет.СрокИспользованияДляВычисленияАмортизации,
	|	ВТ_Расчет.СтоимостьДляВычисленияАмортизации,
	|	ВТ_Расчет.ОбъемПродукцииРаботДляВычисленияАмортизации,
	|	ВТ_Расчет.Период,
	|	ВТ_Расчет.СчетУчета,
	|	ВТ_Расчет.СчетНачисленияАмортизации,
	|	ВТ_Расчет.СпособНачисленияАмортизации,
	|	ВТ_Расчет.ПервоначальнаяСтоимость,
	|	ВТ_Расчет.Коэффициент,
	|	ВТ_Расчет.ЛиквидационнаяСтоимость,
	|	ВТ_Расчет.СпособыОтраженияРасходовПоАмортизации,
	|	ВТ_Расчет.СтоимостьНачальныйОстаток,
	|	ВТ_Расчет.АмортизацияНачальныйОстаток,
	|	ВТ_Расчет.АмортизацияКонечныйОстаток,
	|	ВТ_Расчет.АмортизацияОборот,
	|	ВТ_Расчет.КоличествоНакопленный,
	|	ВТ_Расчет.СчетОбесценения,
	|	ВТ_Расчет.ОбесценениеНаНачалоГода,
	|	ВТ_Расчет.ОстатокОбесценения,
	|	ВТ_Расчет.СтоимостьНаНачалоГода,
	|	ВТ_Расчет.ДатаПринятияКУчету,
	|	ВТ_Расчет.ИстекшийСпиНаНачалоГода,
	|	ВТ_Расчет.ИстекшийСпиНаОтчетнуюДату,
	|	ВТ_Расчет.ИстекшийСпиНаОтчетнуюДату - ВТ_Расчет.ИстекшийСпиНаНачалоГода КАК ИспользованоМесяцевВГоду,
	|	ОКР(ВТ_Расчет.ОбесценениеНаНачалоГода / (ВТ_Расчет.СрокИспользованияДляВычисленияАмортизации - ВТ_Расчет.ИстекшийСпиНаНачалоГода) * (ВТ_Расчет.ИстекшийСпиНаОтчетнуюДату - ВТ_Расчет.ИстекшийСпиНаНачалоГода), 2) КАК РасчетноеОбесценениеВГоду
	|ПОМЕСТИТЬ ВТ_Расчет1
	|ИЗ
	|	ВТ_Расчет КАК ВТ_Расчет
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВТ_Расчет1.НематериальныйАктив,
	|	ВТ_Расчет1.НематериальныйАктивПредставление,
	|	ВТ_Расчет1.Код,
	|	ВТ_Расчет1.ОбъемВыработки,
	|	ВТ_Расчет1.СрокИспользованияДляВычисленияАмортизации,
	|	ВТ_Расчет1.СтоимостьДляВычисленияАмортизации,
	|	ВТ_Расчет1.ОбъемПродукцииРаботДляВычисленияАмортизации,
	|	ВТ_Расчет1.Период,
	|	ВТ_Расчет1.СчетУчета,
	|	ВТ_Расчет1.СчетНачисленияАмортизации,
	|	ВТ_Расчет1.СпособНачисленияАмортизации,
	|	ВТ_Расчет1.ПервоначальнаяСтоимость,
	|	ВТ_Расчет1.Коэффициент,
	|	ВТ_Расчет1.ЛиквидационнаяСтоимость,
	|	ВТ_Расчет1.СпособыОтраженияРасходовПоАмортизации,
	|	ВТ_Расчет1.СтоимостьНачальныйОстаток,
	|	ВТ_Расчет1.АмортизацияНачальныйОстаток,
	|	ВТ_Расчет1.АмортизацияКонечныйОстаток,
	|	ВТ_Расчет1.АмортизацияОборот,
	|	ВТ_Расчет1.КоличествоНакопленный,
	|	ВТ_Расчет1.СчетОбесценения,
	|	ВТ_Расчет1.ОбесценениеНаНачалоГода,
	|	ВТ_Расчет1.ОстатокОбесценения,
	|	ВТ_Расчет1.СтоимостьНаНачалоГода,
	|	ВТ_Расчет1.ДатаПринятияКУчету,
	|	ВТ_Расчет1.ИстекшийСпиНаНачалоГода,
	|	ВТ_Расчет1.ИстекшийСпиНаОтчетнуюДату,
	|	ВТ_Расчет1.ИспользованоМесяцевВГоду,
	|	ВТ_Расчет1.РасчетноеОбесценениеВГоду,
	|	ВТ_Расчет1.ОбесценениеНаНачалоГода - ВТ_Расчет1.РасчетноеОбесценениеВГоду КАК РасчетноеСальдоПоОбесценению
	|ПОМЕСТИТЬ ВТ_Расчет2
	|ИЗ
	|	ВТ_Расчет1 КАК ВТ_Расчет1
	|;
	|
	|////////////////////////////////////////////////////////////////////////////////
	|ВЫБРАТЬ
	|	ВТ_Расчет2.НематериальныйАктив,
	|	ВТ_Расчет2.НематериальныйАктивПредставление,
	|	ВТ_Расчет2.Код,
	|	ВТ_Расчет2.ОбъемВыработки,
	|	ВТ_Расчет2.СрокИспользованияДляВычисленияАмортизации,
	|	ВТ_Расчет2.СтоимостьДляВычисленияАмортизации,
	|	ВТ_Расчет2.ОбъемПродукцииРаботДляВычисленияАмортизации,
	|	ВТ_Расчет2.Период,
	|	ВТ_Расчет2.СчетУчета,
	|	ВТ_Расчет2.СчетНачисленияАмортизации,
	|	ВТ_Расчет2.СпособНачисленияАмортизации,
	|	ВТ_Расчет2.ПервоначальнаяСтоимость,
	|	ВТ_Расчет2.Коэффициент,
	|	ВТ_Расчет2.ЛиквидационнаяСтоимость,
	|	ВТ_Расчет2.СпособыОтраженияРасходовПоАмортизации,
	|	ВТ_Расчет2.СтоимостьНачальныйОстаток,
	|	ВТ_Расчет2.АмортизацияНачальныйОстаток,
	|	ВТ_Расчет2.АмортизацияКонечныйОстаток,
	|	ВТ_Расчет2.АмортизацияОборот,
	|	ВТ_Расчет2.КоличествоНакопленный,
	|	ВТ_Расчет2.СчетОбесценения,
	|	ВТ_Расчет2.ОбесценениеНаНачалоГода,
	|	ВТ_Расчет2.ОстатокОбесценения,
	|	ВТ_Расчет2.СтоимостьНаНачалоГода,
	|	ВТ_Расчет2.ДатаПринятияКУчету,
	|	ВТ_Расчет2.ИстекшийСпиНаНачалоГода,
	|	ВТ_Расчет2.ИстекшийСпиНаОтчетнуюДату,
	|	ВТ_Расчет2.ИспользованоМесяцевВГоду,
	|	ВТ_Расчет2.РасчетноеОбесценениеВГоду,
	|	ВТ_Расчет2.РасчетноеСальдоПоОбесценению,
	|	ВТ_Расчет2.РасчетноеСальдоПоОбесценению - ВТ_Расчет2.ОстатокОбесценения как ОбесценениеКДоначислению
	|ИЗ
	|	ВТ_Расчет2 КАК ВТ_Расчет2
	|";
	Запрос.Параметры.Вставить("Организация", Организация); 
	Запрос.Параметры.Вставить("ДатаРасчета",  КонецМесяца(ДатаРасчета)); 

 	ВыборкаПоНМА = Запрос.Выполнить().Выбрать();

	Пока ВыборкаПоНМА.Следующий() Цикл
		Если ВыборкаПоНМА.ОбесценениеКДоначислению <> 0 Тогда 
			СтрокаАмортизации = ТаблицаАмортизации.Добавить();
			СтрокаАмортизации.НМА                    = ВыборкаПоНМА.НематериальныйАктив;
			СтрокаАмортизации.СчетУчетаБУ            = ВыборкаПоНМА.СчетУчета;
			СтрокаАмортизации.СчетАмортизацииБУ      = ВыборкаПоНМА.СчетОбесценения;
			СтрокаАмортизации.ИмяСубконто            = "НематериальныеАктивы";
			СтрокаАмортизации.НаправлениеАмортизации = ВыборкаПоНМА.СпособыОтраженияРасходовПоАмортизации;
			СтрокаАмортизации.Бух                    = ВыборкаПоНМА.ОбесценениеКДоначислению;
			СтрокаАмортизации.ЭтоОбесценение		 = Истина;
			СтрокаАмортизации.СчетОбесценения		 = ВыборкаПоНМА.СчетОбесценения;
		КонецЕсли;
	КонецЦикла;	
		
КонецПроцедуры 
// }PTE-0000096723
